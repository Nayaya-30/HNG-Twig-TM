<nav class="bg-white shadow-sm border-b border-gray-200 dark:bg-gray-800 dark:border-gray-700">
  <div class="max-w-[1440px] mx-auto px-4 sm:px-6 lg:px-8">
    <div class="flex justify-between items-center h-16">
      <div class="flex items-center gap-3">
        <a href="/" class="text-2xl font-bold text-gray-800 dark:text-white">
          TicketFlow
        </a>
      </div>

      <div id="navLinks" class="flex items-center gap-4">
        <!-- Links will be dynamically toggled with JavaScript -->
        <a href="/dashboard" class="hidden md:inline-flex items-center text-gray-600 hover:text-gray-800 font-medium dark:text-gray-300 dark:hover:text-white px-3 py-2 rounded-md dashboard-link">Dashboard</a>
        <a href="/tickets" class="hidden md:inline-flex items-center text-gray-600 hover:text-gray-800 font-medium dark:text-gray-300 dark:hover:text-white px-3 py-2 rounded-md tickets-link">Tickets</a>

        <form action="/logout" method="post" class="inline logout-btn">
          <button type="submit" class="flex items-center gap-2 bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-all">Logout</button>
        </form>

        <a href="/login" class="flex items-center gap-2 bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 transition-all login-btn">Login</a>

        <button id="darkModeToggle" class="p-2 rounded-full bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-200 hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 dark:hidden" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/>
          </svg>
          <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 hidden dark:block" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="12" cy="12" r="5"/>
            <path d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"/>
          </svg>
        </button>
      </div>
    </div>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const user = localStorage.getItem('currentUser');

      const dashboardLink = document.querySelector('.dashboard-link');
      const ticketsLink = document.querySelector('.tickets-link');
      const logoutBtn = document.querySelector('.logout-btn');
      const loginBtn = document.querySelector('.login-btn');

      if (user) {
        // Show dashboard/tickets/logout
        dashboardLink.style.display = 'inline-flex';
        ticketsLink.style.display = 'inline-flex';
        logoutBtn.style.display = 'inline-block';
        loginBtn.style.display = 'none';
      } else {
        // Show only login
        dashboardLink.style.display = 'none';
        ticketsLink.style.display = 'none';
        logoutBtn.style.display = 'none';
        loginBtn.style.display = 'inline-flex';
      }

      // Dark mode toggle
      const darkModeToggle = document.getElementById('darkModeToggle');
      if (darkModeToggle) {
        darkModeToggle.addEventListener('click', function() {
          document.documentElement.classList.toggle('dark');
          localStorage.theme = document.documentElement.classList.contains('dark') ? 'dark' : 'light';
        });
      }
    });
  </script>
</nav>